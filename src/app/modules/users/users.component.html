<mat-card class="container">

  <span>USERS</span>

  <div class="buttons">
    <button (click)="openDialog()" class="btn" mat-raised-button>
      NEW
      <mat-icon>add</mat-icon>
    </button>

    <button mat-button class="btn" (click)="exporter.exportTable('csv')">
      EXPORT EXCEL
      <mat-icon>get_app</mat-icon>
    </button>

    <button mat-button>
      AUDIT LOGS
      <mat-icon>history</mat-icon>
    </button>
  </div>


 <div class="table">

    <mat-form-field appearance='outline' floatLabel='always'>
      <mat-label>Search</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input>
    </mat-form-field>

      <table mat-table matTableExporter  [dataSource]="dataSource" #exporter="matTableExporter">

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <!-- email Column -->
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let element"> {{element.email}} </td>
        </ng-container>

          <!-- roles Column -->
          <ng-container matColumnDef="roles">
            <th mat-header-cell *matHeaderCellDef> Roles </th>
            <td mat-cell *matCellDef="let element"> {{element.roles}} </td>
          </ng-container>

        <!-- status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let element"> {{element.status}} </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Actions  </th>
          <td class="action" mat-cell *matCellDef="let element">

                  <button mat-icon-button
                         (click)='deleteUser(element.id)'
                         matTooltip="DELETE">
                    <mat-icon class="blue">delete</mat-icon>
                  </button>

                  <button mat-icon-button
                          matTooltip="EDIT">
                    <a routerLink="/users/edit/{{element.id}}"><mat-icon>mode</mat-icon></a>
                  </button>

                  <button mat-icon-button
                          matTooltip="VIEW">
                    <a routerLink="/users/edit/{{element.id}}"> <mat-icon>visibility</mat-icon></a>
                  </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

  </div>
</mat-card>
